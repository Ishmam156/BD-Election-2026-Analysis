<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Not a Wave. A Warning. — Bangladesh Election 2026</title>
  <link rel="icon" href="https://www.thedailystar.net/themes/custom/swallow/favicon.ico" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400;1,700&family=Source+Serif+4:ital,opsz,wght@0,8..60,300;0,8..60,400;0,8..60,600;1,8..60,300;1,8..60,400&family=DM+Sans:wght@300;400;500;600&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet" />

  <style>
    /* ── DESIGN TOKENS ── */
    :root {
      --bg:           #ffffff;
      --ink:          #1a1a1a;
      --ink-muted:    #666666;
      --ink-faint:    #999999;
      --accent-red:   #d43d31;
      --rule:         #e0e0e0;
      --card-bg:      #f5f5f5;

      --bnp:          #1a7a3c;
      --jamaat:       #d4620a;
      --ncp:          #2e6ea6;
      --other:        #999999;

      --prose-max:    680px;
      --chart-max:    960px;
      --page-pad:     clamp(1rem, 5vw, 3rem);
    }

    /* ── RESET & BASE ── */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    html { scroll-behavior: smooth; }

    body {
      background: var(--bg);
      color: var(--ink);
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: clamp(1rem, 1.1vw + 0.5rem, 1.125rem);
      line-height: 1.75;
      -webkit-font-smoothing: antialiased;
    }

    /* ── LAYOUT HELPERS ── */
    .prose-wrap {
      max-width: var(--prose-max);
      margin-left: auto;
      margin-right: auto;
      padding-left: var(--page-pad);
      padding-right: var(--page-pad);
    }

    .chart-wrap {
      max-width: var(--chart-max);
      margin-left: auto;
      margin-right: auto;
      padding-left: var(--page-pad);
      padding-right: var(--page-pad);
    }

    .hr { border: none; border-top: 1px solid var(--rule); margin: 3rem auto; max-width: var(--chart-max); padding: 0 var(--page-pad); }

    /* ── MASTHEAD ── */
    .masthead {
      border-bottom: 2px solid var(--ink);
      padding: 1.25rem var(--page-pad);
      display: flex;
      align-items: baseline;
      gap: 1.5rem;
      flex-wrap: wrap;
    }

    .masthead__banner {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: clamp(1.6rem, 3vw, 2.2rem);
      font-weight: 900;
      letter-spacing: -0.02em;
      color: var(--ink);
    }

    .masthead__label {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.75rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--accent-red);
      border-left: 1px solid var(--rule);
      padding-left: 1.5rem;
    }

    /* ── HERO ── */
    .hero {
      padding: clamp(3rem, 6vw, 5rem) var(--page-pad) clamp(2.5rem, 5vw, 4rem);
      max-width: var(--prose-max);
      margin: 0 auto;
    }

    .kicker {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.7rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--accent-red);
      margin-bottom: 1rem;
    }

    .hero__headline {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: clamp(1.8rem, 3.6vw, 3rem);
      font-weight: 900;
      line-height: 1.1;
      letter-spacing: -0.02em;
      color: var(--ink);
      margin-bottom: 1.25rem;
      white-space: nowrap;
    }

    .hero__deck {
      font-family: 'Source Serif 4', Georgia, serif;
      font-size: clamp(1.05rem, 1.5vw, 1.25rem);
      font-weight: 300;
      font-style: italic;
      color: #3a3a3a;
      line-height: 1.6;
      margin-bottom: 1.75rem;
      border-left: 3px solid var(--accent-red);
      padding-left: 1rem;
    }

    .byline-row {
      display: flex;
      align-items: center;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .byline {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.8rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      color: var(--ink);
    }

    .byline-sep { color: var(--rule); }

    .byline-date {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.8rem;
      color: var(--ink-muted);
    }

    .source-note {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.7rem;
      color: var(--ink-faint);
      margin-top: 0.5rem;
    }

    /* ── BIG NUMBER CARDS ── */
    .callout-row {
      max-width: var(--chart-max);
      margin: 0 auto;
      padding: 2rem var(--page-pad);
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 0;
    }

    @media (max-width: 600px) {
      .callout-row { grid-template-columns: repeat(2, 1fr); }
    }

    .callout-card {
      padding: 1.5rem 1rem;
      text-align: center;
      border-right: 1px solid var(--rule);
      position: relative;
    }

    .callout-card:first-child { border-left: 1px solid var(--rule); }

    @media (max-width: 600px) {
      .callout-card:nth-child(2) { border-right: 1px solid var(--rule); }
      .callout-card:nth-child(3) { border-left: 1px solid var(--rule); }
      .callout-card:nth-child(1),
      .callout-card:nth-child(2) { border-bottom: 1px solid var(--rule); }
    }

    .callout-card::before {
      content: '';
      display: block;
      width: 40px;
      height: 2px;
      margin: 0 auto 0.75rem;
      background: currentColor;
      opacity: 0.25;
    }

    .callout-number {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: clamp(2.8rem, 5vw, 4rem);
      font-weight: 900;
      line-height: 1;
      display: block;
    }

    .callout-rule {
      display: block;
      width: 2rem;
      height: 1px;
      background: var(--rule);
      margin: 0.6rem auto;
    }

    .callout-label {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.7rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.1em;
      color: var(--ink-muted);
    }

    /* ── SECTION HEADER ── */
    .section { padding: clamp(2rem, 4vw, 3.5rem) 0; }

    .section-number {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.65rem;
      font-weight: 600;
      color: var(--accent-red);
      text-transform: uppercase;
      letter-spacing: 0.2em;
      margin-bottom: 0.4rem;
      display: block;
    }

    .section-heading {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: clamp(1.6rem, 3vw, 2.2rem);
      font-weight: 700;
      line-height: 1.2;
      letter-spacing: -0.015em;
      color: var(--ink);
      margin-bottom: 1.5rem;
    }

    /* ── DROP CAP ── */
    .drop-cap::first-letter {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: 5em;
      font-weight: 900;
      color: var(--accent-red);
      float: left;
      line-height: 0.75;
      margin-right: 0.08em;
      margin-top: 0.06em;
    }

    /* ── PROSE ── */
    .prose p {
      margin-bottom: 1.25em;
      color: var(--ink);
    }

    .prose p:last-child { margin-bottom: 0; }

    /* ── CHART CONTAINERS ── */
    .chart-block {
      margin: 2.5rem 0;
      background: #f5f0e8;
      border: 1px solid var(--rule);
      border-radius: 2px;
      padding: clamp(1.25rem, 3vw, 2rem);
    }

    .chart-title {
      font-family: 'Playfair Display', Georgia, serif;
      font-size: clamp(1rem, 1.5vw, 1.2rem);
      font-weight: 700;
      color: var(--ink);
      margin-bottom: 0.25rem;
    }

    .chart-subtitle {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.75rem;
      color: var(--ink-muted);
      margin-bottom: 1.5rem;
      font-style: italic;
    }

    .viz-source {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.65rem;
      color: var(--ink-faint);
      margin-top: 1rem;
      padding-top: 0.75rem;
      border-top: 1px solid var(--rule);
    }

    /* ══ CHART 1 — Horizontal bar chart ══ */
    .hbar-chart { display: flex; flex-direction: column; gap: 0.75rem; }

    .hbar-row {
      display: grid;
      grid-template-columns: 80px 1fr 50px;
      align-items: center;
      gap: 0.75rem;
    }

    @media (max-width: 480px) {
      .hbar-row { grid-template-columns: 65px 1fr 40px; }
    }

    .hbar-label {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.75rem;
      font-weight: 600;
      text-align: right;
      color: var(--ink);
    }

    .hbar-track {
      background: #e5dfd6;
      border-radius: 1px;
      height: 28px;
      overflow: hidden;
      position: relative;
    }

    .hbar-fill {
      height: 100%;
      width: 0;
      transition: width 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      border-radius: 1px;
    }

    .hbar-fill.animated { width: var(--target-w); }

    .hbar-count {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--ink);
    }

    /* ══ CHART 2 — Vertical bar chart ══ */
    .vbar-chart {
      display: flex;
      align-items: flex-end;
      gap: clamp(4px, 1vw, 12px);
      height: 240px;
      padding-bottom: 0;
      position: relative;
    }

    .vbar-col {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-end;
      height: 100%;
      gap: 0;
    }

    .vbar-count-label {
      font-family: 'JetBrains Mono', monospace;
      font-size: clamp(0.55rem, 1vw, 0.75rem);
      font-weight: 600;
      color: var(--ink);
      margin-bottom: 4px;
      text-align: center;
    }

    .vbar-bar-wrap {
      width: 100%;
      display: flex;
      align-items: flex-end;
      justify-content: center;
      flex: 1;
    }

    .vbar-fill {
      width: 100%;
      height: 0;
      transition: height 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      border-radius: 1px 1px 0 0;
    }

    .vbar-fill.animated { height: var(--target-h); }

    .vbar-xlabel {
      font-family: 'DM Sans', sans-serif;
      font-size: clamp(0.5rem, 0.9vw, 0.65rem);
      color: var(--ink-muted);
      text-align: center;
      margin-top: 6px;
      line-height: 1.2;
    }

    .vbar-xlabel-row {
      display: flex;
      gap: clamp(4px, 1vw, 12px);
    }

    .vbar-xlabel-col {
      flex: 1;
      font-family: 'DM Sans', sans-serif;
      font-size: clamp(0.5rem, 0.9vw, 0.65rem);
      color: var(--ink-muted);
      text-align: center;
      line-height: 1.2;
      padding-top: 5px;
    }

    /* ══ CHART 3 — Stacked horizontal bar chart ══ */
    .sbar-chart { display: flex; flex-direction: column; gap: 0.6rem; }

    .sbar-row {
      display: grid;
      grid-template-columns: 70px 1fr;
      align-items: center;
      gap: 0.75rem;
    }

    .sbar-label {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.68rem;
      font-weight: 600;
      text-align: right;
      color: var(--ink);
      line-height: 1.2;
    }

    .sbar-track {
      height: 30px;
      display: flex;
      overflow: hidden;
      border-radius: 1px;
      background: #e5dfd6;
    }

    .sbar-seg {
      height: 100%;
      width: 0;
      transition: width 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      white-space: nowrap;
    }

    .sbar-seg.animated { width: var(--target-w); }

    .sbar-seg-label {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.6rem;
      font-weight: 600;
      color: rgba(255,255,255,0.95);
      padding: 0 3px;
    }

    /* ══ CHART 4 — Division grouped horizontal bars ══ */
    .dbar-chart { display: flex; flex-direction: column; gap: 1.1rem; }

    .dbar-row { display: flex; flex-direction: column; gap: 4px; }

    .dbar-division {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.72rem;
      font-weight: 600;
      color: var(--ink);
      margin-bottom: 2px;
    }

    .dbar-group { display: flex; flex-direction: column; gap: 3px; }

    .dbar-line {
      display: grid;
      grid-template-columns: 55px 1fr 90px;
      align-items: center;
      gap: 0.5rem;
    }

    .dbar-party-label {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.62rem;
      font-weight: 500;
      text-align: right;
      color: var(--ink-muted);
    }

    .dbar-track {
      background: #e5dfd6;
      border-radius: 1px;
      height: 18px;
      overflow: hidden;
    }

    .dbar-fill {
      height: 100%;
      width: 0;
      transition: width 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      border-radius: 1px;
    }

    .dbar-fill.animated { width: var(--target-w); }

    .dbar-meta {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.62rem;
      color: var(--ink-muted);
    }

    /* ── CHART LEGEND ── */
    .chart-legend {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      margin-bottom: 1rem;
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 6px;
      font-family: 'DM Sans', sans-serif;
      font-size: 0.68rem;
      font-weight: 500;
      color: var(--ink-muted);
    }

    .legend-swatch {
      width: 12px;
      height: 12px;
      border-radius: 1px;
      flex-shrink: 0;
    }

    /* ── FOOTER ── */
    .footer {
      border-top: 2px solid var(--ink);
      padding: 2rem var(--page-pad);
      max-width: var(--chart-max);
      margin: 3rem auto 0;
    }

    .footer-line {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.7rem;
      color: var(--ink-muted);
      margin-bottom: 0.3rem;
    }

    .footer-disclaimer {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.65rem;
      color: var(--ink-faint);
      font-style: italic;
      margin-top: 0.75rem;
    }

    /* ── SWING TABLE ── */
    @media (max-width: 640px) {
      .swing-grid { grid-template-columns: 1fr !important; }
    }

    .swing-table { display: flex; flex-direction: column; gap: 0; }

    .swing-hdr {
      display: grid;
      grid-template-columns: 1fr auto;
      padding: 0 0 0.4rem 0;
      border-bottom: 1px solid var(--rule);
      font-family: 'DM Sans', sans-serif;
      font-size: 0.65rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.07em;
      color: var(--ink-muted);
    }

    .swing-row {
      display: grid;
      grid-template-columns: 1fr auto auto auto;
      align-items: center;
      gap: 0.5rem;
      padding: 0.42rem 0;
      border-bottom: 1px solid var(--rule);
      position: relative;
      overflow: hidden;
    }

    /* animated background bar */
    .swing-bar-wrap {
      position: absolute;
      inset: 0;
      pointer-events: none;
      overflow: hidden;
    }
    .swing-bar-fill {
      position: absolute;
      left: 0; top: 0; bottom: 0;
      width: 0;
      background: var(--party-color);
      opacity: 0.09;
      transition: width 0.7s cubic-bezier(.4,0,.2,1);
    }
    .swing-row.animated .swing-bar-fill { width: var(--fill-w, 0%); }

    .swing-seat {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.78rem;
      font-weight: 500;
      color: var(--ink);
      position: relative;
      z-index: 1;
    }
    .swing-party {
      font-family: 'DM Sans', sans-serif;
      font-size: 0.6rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      padding: 0.1rem 0.4rem;
      border-radius: 3px;
      position: relative;
      z-index: 1;
    }
    .bnp-tag    { background: color-mix(in srgb, var(--bnp) 15%, transparent);    color: var(--bnp); }
    .jamaat-tag { background: color-mix(in srgb, var(--jamaat) 15%, transparent);  color: var(--jamaat); }
    .ncp-tag    { background: color-mix(in srgb, var(--ncp) 15%, transparent);     color: var(--ncp); }
    .other-tag  { background: color-mix(in srgb, var(--other) 15%, transparent);   color: var(--ink-muted); }

    .swing-margin {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.72rem;
      font-weight: 600;
      color: var(--ink);
      text-align: right;
      position: relative;
      z-index: 1;
    }

    /* ── UTILITY ── */
    .mt-2 { margin-top: 2rem; }

    /* ── SBAR TOOLTIP ── */
    .sbar-seg { position: relative; cursor: default; }
    #sbar-tooltip {
      position: fixed;
      pointer-events: none;
      z-index: 999;
      background: #1a1a1a;
      color: #ffffff;
      font-family: 'DM Sans', sans-serif;
      font-size: 0.72rem;
      font-weight: 500;
      line-height: 1.3;
      padding: 0.35rem 0.6rem;
      border-radius: 4px;
      white-space: nowrap;
      opacity: 0;
      transition: opacity 0.1s ease;
      box-shadow: 0 2px 8px rgba(0,0,0,0.25);
    }
    #sbar-tooltip.visible { opacity: 1; }
    #sbar-tooltip::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 50%;
      transform: translateX(-50%);
      border: 5px solid transparent;
      border-bottom: none;
      border-top-color: #1a1a1a;
    }
  </style>
</head>

<body>

  <!-- ══ MASTHEAD ══ -->
  <header class="masthead">
    <a href="https://thedailystar.net" target="_blank" rel="noopener" style="display:inline-flex;align-items:center;text-decoration:none;">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 321.41 63.84" style="height:clamp(28px,3vw,40px);width:auto;" aria-label="The Daily Star"><g data-name="Layer 2"><path d="M310.21 36v11.2c0 .61.2 1.55 2.49 2.06.08 1.25-4 4.49-5 4.15-1.67-.68-2.2-3.64-4.1-3.14-.27 0-.51-.6-.42-1 .61-.51 1.75-1.16 1.78-2.06V33a1.74 1.74 0 0 0-2-1.65c-.57.19-1.37-.23-.41-1a29.5 29.5 0 0 1 3.29-2.79c2-1.55 4.39 2.5 4.39 3.58v.58c.29 1 5.1-5.87 6.14-4.24A12.3 12.3 0 0 0 321 31c.76.28.35.84-.2 1.2-1.14.46-2.66 2-4.07 2-2 0-3.67-1.2-5.16-.18a2.64 2.64 0 0 0-1.35 2Zm-24.66 17.48c1.43 0 7.6-5 7.85-3.84s2.66 4.31 4.15 3.79a9.9 9.9 0 0 0 2.71-2.16c2-2-1.61-2.19-2-5.29V33.72c0-.71 1.39-2 1.64-2.34.39-.58-.32-.75-1.53-1.64a9.6 9.6 0 0 1-1.92-2.08c-.38-.45-.93-.93-1.61-.05-1.48 1.66-8.32 5.28-8.13 4.06 0-1.27-.35-3.65-2.06-4.11-2.72-.73-4.07 1.58-3.41 3.66.8 2.54 3.07 4.32 4.85 6.1.52.55.54.72-.09 1.17-2.92 2.58-6.81 4.49-6.84 9.23 0 3.72 4.16 5.66 6.37 5.76Zm2.19-4.31a3.36 3.36 0 0 1-3.34-2.79 7.09 7.09 0 0 1 3.45-6.61c.33-.33 1.27.73 1.54.94 1.19.94 1.51.3.82-.67-1-1.41-1.93-2.8-2.95-4.13-.32-.47-.68-1.6-.32-1.8 2-1 6.14-3.2 6.12-.18v11.32c0 1.68-4 4-5.32 3.92m-149 4.31c-2.21-.1-6.38-2-6.37-5.76 0-4.74 3.92-6.65 6.84-9.23.63-.45.6-.62.09-1.17-1.78-1.78-4-3.56-4.85-6.1-.66-2.08.69-4.39 3.41-3.66 1.71.46 2 2.84 2.06 4.11-.19 1.22 6.65-2.4 8.13-4.06.68-.88 1.23-.4 1.61.05a9.6 9.6 0 0 0 1.92 2.08c1.21.89 1.92 1.06 1.53 1.64-.25.38-1.66 1.63-1.64 2.34V46c.37 3.1 4 3.29 2 5.29a9.9 9.9 0 0 1-2.71 2.16c-1.49.52-3.85-2.59-4.15-3.79s-6.42 3.79-7.85 3.84Zm2.19-4.31c1.35 0 5.36-2.24 5.32-3.92V33.93c0-3-4.08-.8-6.12.18-.36.2 0 1.33.32 1.8 1 1.33 1.94 2.72 2.95 4.13.69 1 .37 1.61-.82.67-.27-.21-1.21-1.27-1.54-.94a7.09 7.09 0 0 0-3.45 6.61 3.36 3.36 0 0 0 3.34 2.79m-48.55 10.6c-2.68-3-1.85-9.16 2.45-12.36a17.41 17.41 0 0 1 14.92-2.57V13.08c-4.29.65-9.18 1.14-13.23-.66a7.16 7.16 0 0 1-4.17-5.31c-.29-2.55.47-1 .81-.39 3.25 3.57 7.74 2.24 12 1.45 5-.93 11.27-2.49 16.39-1.72 4.35.65 7.85 4.13 7.86 8.44V43.8c.24 1.43 1.32 2.19.57 3.41-.46.84-4-1.25-9.19 1.4a34.2 34.2 0 0 0-6.92 5.31c-.76.84-4.49-3.5-8.36-4.24s-9.09-.06-11.28 3.32c-4.88 7.58 8.22 12.41 14.77 5 1-1.11 2.07.1 1 1-5.28 4.38-12.88 6-17.57.79Zm24.9-11.72c1 0 6.17-2.15 6.17-4v-6.41c0-1.1-1.84-2.44-5.81-2.39-5.78.07-5.72 1.42-5.72 2.5v7.68c2 .76 4.35 2.59 5.36 2.62m-17.9-4.16c-.26.52 3.53-.39 4.9-1.41a6.38 6.38 0 0 0 2.72-5.29V18.38c0-2.35.92-3 .83-3.25-.6-.57-6.65 1.2-6.65 6.52v3c0 .79-.15 1.29-.78 1.51-1.39.38-4.43 1-4.92 4.88A6.8 6.8 0 0 0 96 34c.32.57.55.79.83.08a4.74 4.74 0 0 1 1.4-2c.72-.58 3-.7 3 .65v6.57a7.9 7.9 0 0 1-1.85 4.59m12.54-10.65c0 2.25 2.9.22 5.73.21s5.8 1.91 5.8 0v-7.64c0-1.84-2.79-.08-5.8 0s-5.72-1.78-5.73-.21v7.67Zm5.69-9.33c3.07 0 5.84-.5 5.84-2.3 0-5.71 0-9.28-5.32-9.28a42 42 0 0 0-6.21.44v9.08c0 1.47 2.62 2.08 5.69 2.06m101.8 39.58c-4-.56-5-4.19-3.42-8.09 1.88-4.77 7.4-9.47 13.83-11.42a22.3 22.3 0 0 1 9.78-.68c.84-1.45 3-4.86 3.79-6.55-5.75-1.51-12.37-3.57-15.44-7-2.42-2.75-1.94-7-.32-10.29.12-.58.9-1 .76.14 0 3.18.82 4.48 3.07 6.38 2.89 2.43 11.26 4.68 15 5.65.4-.56 1.21-2 1.6-2.74-4.14-1-10.71-3-14.2-5.74a8.65 8.65 0 0 1-2.77-10.5c2.39-5.81 9.94-6.71 15.57-5.87a23.3 23.3 0 0 1 7.68 2.72c1.12.46 2-.08 3.52-.56 1.22 1.53-7.83 8.21-8.58 6.79-2.38-4.55-9-8.63-13.83-5.27-1.65 1.15-3.91 4.46-.09 7.55 3.53 2.86 10.74 4.14 16.21 5.7 1.88-2.49 3.79-4.95 5.87-7.34 1-1.13 3.71-4.38 3.62-2.79.33 2.88-3.5 5-5.09 7.12-.54.72-2.24 2.84-2.7 3.67 2.17 1 5.15 1.94 7.9 5.4 3.85 4.86 1.17 11-1.63 14.35-1 1.18-10.7 11.12-12.08 10-3.41-2.06-5-4.14-9-5.6-3.62 5.4-11.85 16-19.07 15Zm.85-1.06c5.23.47 15.23-12.3 16.34-14.57-7.29-2.58-12.81.14-17.58 5.44-2.5 2.78-4.41 8.62 1.24 9.13m31-13.48c1 .82 6.5-5.45 7.54-7.05 1.81-2.77 1.35-7.72-1.39-9.44a20.1 20.1 0 0 0-7.6-3.05c-.43.86-1.11 1.91-1.4 2.68 4 1.31 7.06 2.79 8.36 6.17a4.86 4.86 0 0 1-2.06 5.67c-.62.4-1.28.1-.61-.48 1.41-1.44.06-3-.69-3.34a34.7 34.7 0 0 0-8.16-2.74c-.77 1.37-3.21 5.33-3.73 6.29a34.7 34.7 0 0 1 9.76 5.34Zm-66 14.75a.6.6 0 1 1 .22-1.16c4.16.68 10.16.81 13.13-1.26 2.29-1.58-.93-3.15-4.62-1.9-2.43.54-8.42 3.07-10.72 1.12-2.63-2.24 1.34-5.57 3.23-6.8.28-.18.69-.46.1-.62-2.11-.72-4.53-3.16-4.47-5.55V33.9c0-1.33-1-1.88-2.43-1.51-.83.2-1.54-.16-.47-.85a36.4 36.4 0 0 0 4.71-4.1c.73-.49 1.17-.37 1.54.07a11 11 0 0 0 2 2.23c1.2.89 1.92 1.06 1.53 1.64-.14.21-1.61 1.68-1.62 2.5v13.61c0 2.77 3.23 4 5.06 4s4.63-1.27 4.63-4V33.9c0-1.33-1-1.88-2.43-1.51-.83.2-1.54-.16-.47-.85a35 35 0 0 0 4.71-4.1c.73-.49 1.17-.37 1.54.07a11 11 0 0 0 2 2.23c1.21.89 1.92 1.06 1.53 1.64-.14.21-1.61 1.68-1.61 2.5v13.57c.17 3.31-3.64 5-6.26 5.71-1.3.31-9.93 1.19-9.93 3.26.15 1.66 2.94.44 7.34-1.07 2.81-1 7.62-.55 8.26 2.52a4.47 4.47 0 0 1-3 4.87c-4.12 1.61-8.93 1-13.37 1ZM63.07 47.39V33.85c0-.7-1.29-1.42-1.63-2.12-.21-.43-.12-.66.27-.68a11 11 0 0 0 3-.16A13.9 13.9 0 0 0 71 27.83c2-2.07 4.33.49 5.29 1.89s3.87 5.34 2.79 6.37c-3 2.4-7.59 5.16-10.76 7.35v3.23c0 .64 4.7 3 5.34 2.64a4.9 4.9 0 0 0 1.53-.77c1.83-1.19 2-.26.39 1.09-.75.74-5.49 4-6.41 3.85-1.67-.22-5-4-7.43-3.21-.27 0-.51-.6-.42-1 .56-.48 1.59-1.1 1.76-1.87Zm5.24-13.33v6.7a60 60 0 0 0 5.89-3.88c.56-.4-1.74-3.26-2.66-4.56-.92-1-1.4-2.25-3.16-.82-.26.26-.1 1.7-.07 2.56m-63 9.08A24.25 24.25 0 0 1 5 26.76a20.75 20.75 0 0 1 7.32-9.34 24.7 24.7 0 0 1 4-2.56c.46-.21 1.9-.72.6.62-2.5 3.27-6.34 6.74-7.41 12.8a18.5 18.5 0 0 0 4 15.34c2.89 3.23 5.15 5 9.52 5.68 2.31.37 5.34.42 7.45-1.16V15.77c-1.53-.08-2.91-.36-4.51-.5a12 12 0 0 0-1.84 1.94v21.28c-.28 3.46-1.46 5.81-4.94 7-.46.08-1.57.26-1.54-.08a27.7 27.7 0 0 0 .66-5.67v-14c0-4.62-1.19-2.29-2.8-1.84-.39 0-.5-.36-.83-.87.63-.46 5.83-4.68 6.77-5.65a6.65 6.65 0 0 0 1.95-2.56 52.5 52.5 0 0 0-7.09-2c-4.14-.46-9.23-1.09-12.88 2.18-1.9 1.69-3.37 5.3-.07 9.13.49.56 1 1.6-.42.47-1.76-1.76-3.45-3.61-2.8-8 .53-3.52 5.79-9.1 13.35-9 8 0 15 2.27 22.93 1.92.2 0 .64-.26.71.21.53 3.15-2.81 5.74-4.78 6.13-.24.1-.09 1.14-.17 1.38v28.14c.06.32.33 1.51.83 1.68.32.12 1.15-.55 1.58-1 1.52-1.4 2.32-3.12 2-1.62-1.39 6.24-6.82 8.83-12.66 9.29C16 54.4 8.61 51 5.29 43.14Zm36.21 10.27c1 .34 5-2.9 5-4.15C44.2 48.75 44 47.81 44 47.2V35.29l4.46-3c1-.83 3.25.14 3.28 1.83V47.2c0 .9-1.17 1.55-1.77 2.06-.1.41.14 1 .42 1 1.89-.5 2.42 2.46 4.09 3.14 1 .34 5.06-2.9 5-4.15-2.32-.5-2.48-1.44-2.48-2.05V33.47c0-.66 1.22-1.18 1.2-1.59-.29-1.54-4.1-5-5.38-4.78-1.05-.1-7.89 4.9-8.82 5.61V17.84c0-5.07 3.32-8.18 3-8.65-.86-.87-5.06 4.17-5.4 4.32-.91.55-1.46-1.48-2.75-1.26-.25.08-.09.76-.08 1v34c0 .9-1.17 1.55-1.78 2.06-.09.41.15 1 .42 1 1.9-.5 2.43 2.46 4.1 3.14Zm230.11 0c-1.67-.68-2.2-3.64-4.09-3.14-.27 0-.52-.6-.42-1 .6-.51 1.74-1.16 1.77-2.06V32.92c0-1.67-4.54-.41-4.61-1.23a8.3 8.3 0 0 1 .71-3c.36-1.34 3.91-.28 3.91-1.06v-8.34c0-1.06 3-3.17 4.57-3.88.67-.32.7.2.65.94v11.24c0 .95 5.87-1.17 4.26 2.74a2.84 2.84 0 0 1-1.31 1.56c-1.25.38-3-.29-2.95 1.15V47.2c0 .61.2 1.55 2.49 2.06.09 1.25-4 4.49-5 4.15Zm-95.94-35.57a11 11 0 0 1 .12-1.53l3.19-.37-3.08-.36v-.06c.75-3.69 3-5.94 2.78-6.33-.87-.87-5.06 4.17-5.41 4.32-.9.55-1.45-1.48-2.75-1.26-.24.08-.08.76-.08 1v1.7l-3.07-.36-2.67 1.36 2.67 1.36 3.07-.36v4l-3.29-2.88-3-.15 1.63 2.51 4.65 1.59V47.2c0 .9-1.17 1.55-1.77 2.06-.1.41.15 1 .42 1 1.9-.5 2.43 2.46 4.09 3.14 1 .34 5.06-2.9 5-4.15-2.28-.51-2.48-1.45-2.49-2.06V17.84Zm-12.16 11.9c1.21.89 1.92 1.06 1.53 1.64-.14.21-1.61 1.68-1.61 2.5V47.2c0 .61.2 1.55 2.49 2.06.09 1.25-4 4.49-5 4.15-1.67-.68-2.2-3.64-4.09-3.14-.28 0-.52-.6-.42-1 .6-.51 1.74-1.16 1.77-2.06V33.9c0-.7 0-1.89-1.53-2.12-1.14-.18-1.15-.39-.5-1.1a24 24 0 0 1 3.64-3.1l-.49-4.95 1.39-2.63 1.36 2.67-.48 4.87a8.8 8.8 0 0 0 1.94 2.24Zm-.81-10.32 2.51 1.63 2.27 6.65-4.63-5.29-.15-3Zm-4 0-2.52 1.63-2.27 6.65 4.63-5.29.16-3Zm-1.5-1.42-3 .15-5.29 4.63 6.65-2.27zm-.54-2L154 14.58l-11.6 1.36L154 17.3l2.67-1.36Zm.54-2-1.63-2.52-6.65-2.26 5.29 4.62 3 .16Zm1.48-1.48-2.52-1.63-2.27-6.65 4.63 5.29.16 3Zm2-.53 1.36-2.67L160.71 0l-1.36 9.25 1.36 2.67Zm2 .53.15-3 4.63-5.29-2.27 6.65-2.51 1.63Zm1.47 1.48 1.63-2.52 6.65-2.26-5.29 4.62-3 .16Zm-3.48 6.32-1.23 2.4 1.23 12.55v-15Zm0-8.63V.92l1.22 8.3-1.22 2.4Zm2.15.58 4.29-7.42-2 6-2.26 1.47Zm1.58 1.58 7.43-4.29-4.74 4.15zm.58 2.16h12.82l-10.42 1.22-2.4-1.29Zm-.58 2.16 7.43 4.28-6-2-1.47-2.25Zm-1.58 1.58 4.29 7.42-4.13-4.81-.14-2.68Zm-4.31 0-2.26 1.46-2 6 4.29-7.42ZM157 18.09l-2.69.15-4.74 4.14zm-.58-2.15h-12.85L154 14.71l2.4 1.23Zm.58-2.16-7.43-4.29 6 2zm1.58-1.58-4.29-7.42 4.15 4.73Z" data-name="Layer 1" style="fill:#040d33;fill-rule:evenodd"/></g></svg>
    </a>
    <span class="masthead__label">Data Analysis &middot; Bangladesh Election 2026</span>
  </header>

  <!-- ══ HERO ══ -->
  <section class="hero">
    <p class="kicker">13th National Parliament Election</p>
    <h1 class="hero__headline">Not a Wave. A Warning.</h1>
    <p class="hero__deck">BNP won a commanding majority. The numbers underneath tell a more complicated &mdash; and consequential &mdash; story.</p>
    <div class="byline-row">
      <span class="byline">Ishmam Chowdhury</span>
      <span class="byline-sep">&mdash;</span>
      <span class="byline-date">14 February 2026</span>
    </div>
    <p class="source-note">Data: The Daily Star, 14 February 2026, 7:00 AM</p>
  </section>

  <!-- ══ BIG NUMBER CALLOUT ROW ══ -->
  <div class="chart-wrap">
    <hr class="hr" style="margin-top:0;" />
    <div class="callout-row">
      <div class="callout-card">
        <span class="callout-number" style="color:var(--bnp);">205</span>
        <span class="callout-rule"></span>
        <span class="callout-label">BNP Seats</span>
      </div>
      <div class="callout-card">
        <span class="callout-number" style="color:var(--jamaat);">66</span>
        <span class="callout-rule"></span>
        <span class="callout-label">Jamaat Seats</span>
      </div>
      <div class="callout-card">
        <span class="callout-number" style="color:var(--ncp);">6</span>
        <span class="callout-rule"></span>
        <span class="callout-label">NCP Seats</span>
      </div>
      <div class="callout-card">
        <span class="callout-number" style="color:var(--other);">23</span>
        <span class="callout-rule"></span>
        <span class="callout-label">Others</span>
      </div>
    </div>
    <hr class="hr" style="margin-bottom:0;" />
  </div>

  <!-- ══ SECTION 01 ══ -->
  <section class="section">
    <div class="prose-wrap">
      <span class="section-number">01 &mdash; The Result</span>
      <h2 class="section-heading">A Majority, Earned</h2>
      <div class="prose">
        <p class="drop-cap">Congratulations to BNP on the victory. Winning an election in Bangladesh is never &ldquo;just&rdquo; politics &mdash; it is organization, stamina, and getting people to actually show up. BNP contested 291 seats. They won 205. That is a majority that does not require negotiation or coalition arithmetic to function. It is a clear, working mandate. Jamaat secured 66 seats &mdash; more than any Islamist party has won in a Bangladeshi general election. NCP, contesting its first election, won 6. The map looked green. But maps are blunt instruments.</p>
      </div>
    </div>

    <!-- Chart 1 -->
    <div class="chart-wrap">
      <div class="chart-block" data-animate-group>
        <div class="chart-title">Seat Distribution — 300 Seats, 13th Parliament</div>
        <div class="chart-subtitle">Each bar represents a party&rsquo;s share of the 300 total parliamentary seats</div>
        <div class="hbar-chart">

          <div class="hbar-row">
            <span class="hbar-label" style="color:var(--bnp);">BNP</span>
            <div class="hbar-track">
              <div class="hbar-fill" style="background:var(--bnp); --target-w:68.3%;" data-animate></div>
            </div>
            <span class="hbar-count">205</span>
          </div>

          <div class="hbar-row">
            <span class="hbar-label" style="color:var(--jamaat);">Jamaat</span>
            <div class="hbar-track">
              <div class="hbar-fill" style="background:var(--jamaat); --target-w:22.0%;" data-animate></div>
            </div>
            <span class="hbar-count">66</span>
          </div>

          <div class="hbar-row">
            <span class="hbar-label" style="color:var(--ncp);">NCP</span>
            <div class="hbar-track">
              <div class="hbar-fill" style="background:var(--ncp); --target-w:2.0%;" data-animate></div>
            </div>
            <span class="hbar-count">6</span>
          </div>

          <div class="hbar-row">
            <span class="hbar-label" style="color:var(--other);">Others</span>
            <div class="hbar-track">
              <div class="hbar-fill" style="background:var(--other); --target-w:7.7%;" data-animate></div>
            </div>
            <span class="hbar-count">23</span>
          </div>

        </div>
        <p class="viz-source">Source: The Daily Star, 14 February 2026, 7:00 AM &mdash; Unofficial results at time of data collection. Bar width = party&rsquo;s share of 300 total seats.</p>
      </div>
    </div>
  </section>

  <div class="prose-wrap"><hr class="hr" /></div>

  <!-- ══ SECTION 02 ══ -->
  <section class="section">
    <div class="prose-wrap">
      <span class="section-number">02 &mdash; How Close Was It, Really?</span>
      <h2 class="section-heading">The Seat Count Flatters</h2>
      <div class="prose">
        <p>At the same time, the ground reality looks closer than the headlines suggest, and that closeness matters because it changes how a mandate should be read.</p>
        <p>The first instinct is to look at vote margins in raw numbers &mdash; and by that measure, nearly 30% of seats were decided by fewer than 20,000 votes. But absolute counts mislead. A constituency with 500,000 registered voters and a 20,000-vote gap is far more settled than one with 150,000 voters and the same gap.</p>
        <p>So instead, look at winning margin as a percentage of total votes cast. Across 289 constituencies where BNP, Jamaat, or NCP were the top two finishers, nearly half &mdash; 46% &mdash; were won by a margin of less than 15% of votes cast. Almost 1 in 5 seats fell within a 5% margin. The tightest race in the country, Sirajganj-4, was decided by 594 votes out of over 320,000 cast. That is not a wave. That is a country genuinely, constituency by constituency, split on what it wants.</p>
      </div>
    </div>

    <!-- Chart 2 -->
    <div class="chart-wrap">
      <div class="chart-block" data-animate-group>
        <div class="chart-title">How Close Was Bangladesh Really?</div>
        <div class="chart-subtitle">Winning margin as % of total votes cast &mdash; 289 qualifying constituencies</div>

        <div style="display:flex; gap:0.75rem; align-items:flex-end;">
          <!-- Y-axis label -->
          <div style="display:flex; align-items:center; writing-mode:vertical-rl; transform:rotate(180deg); font-family:'DM Sans',sans-serif; font-size:0.6rem; color:var(--ink-faint); padding-bottom:28px; flex-shrink:0;">Seats</div>

          <div style="flex:1; overflow:hidden;">
            <div class="vbar-chart" id="chart2">

              <!-- 0–5% -->
              <div class="vbar-col">
                <div class="vbar-count-label">52</div>
                <div class="vbar-bar-wrap">
                  <div class="vbar-fill" style="background:#2a8c5a; --target-h:calc(52/64 * 200px);" data-animate></div>
                </div>
              </div>

              <!-- 5–10% -->
              <div class="vbar-col">
                <div class="vbar-count-label">36</div>
                <div class="vbar-bar-wrap">
                  <div class="vbar-fill" style="background:#4a9e55; --target-h:calc(36/64 * 200px);" data-animate></div>
                </div>
              </div>

              <!-- 10–15% -->
              <div class="vbar-col">
                <div class="vbar-count-label">43</div>
                <div class="vbar-bar-wrap">
                  <div class="vbar-fill" style="background:#85b84a; --target-h:calc(43/64 * 200px);" data-animate></div>
                </div>
              </div>

              <!-- 15–20% -->
              <div class="vbar-col">
                <div class="vbar-count-label">34</div>
                <div class="vbar-bar-wrap">
                  <div class="vbar-fill" style="background:#c8c840; --target-h:calc(34/64 * 200px);" data-animate></div>
                </div>
              </div>

              <!-- 20–25% -->
              <div class="vbar-col">
                <div class="vbar-count-label">33</div>
                <div class="vbar-bar-wrap">
                  <div class="vbar-fill" style="background:#f5a623; --target-h:calc(33/64 * 200px);" data-animate></div>
                </div>
              </div>

              <!-- 25–30% -->
              <div class="vbar-col">
                <div class="vbar-count-label">27</div>
                <div class="vbar-bar-wrap">
                  <div class="vbar-fill" style="background:#e86830; --target-h:calc(27/64 * 200px);" data-animate></div>
                </div>
              </div>

              <!-- 30%+ -->
              <div class="vbar-col">
                <div class="vbar-count-label">64</div>
                <div class="vbar-bar-wrap">
                  <div class="vbar-fill" style="background:#d43d31; --target-h:calc(64/64 * 200px);" data-animate></div>
                </div>
              </div>

            </div>

            <!-- X-axis labels -->
            <div class="vbar-xlabel-row" style="border-top:1px solid var(--rule); padding-top:4px;">
              <div class="vbar-xlabel-col">0%–5%</div>
              <div class="vbar-xlabel-col">5%–10%</div>
              <div class="vbar-xlabel-col">10%–15%</div>
              <div class="vbar-xlabel-col">15%–20%</div>
              <div class="vbar-xlabel-col">20%–25%</div>
              <div class="vbar-xlabel-col">25%–30%</div>
              <div class="vbar-xlabel-col">30%+</div>
            </div>
          </div>
        </div>

        <p class="viz-source">Source: The Daily Star, 14 February 2026, 7:00 AM &mdash; 289 constituencies where BNP, Jamaat, or NCP finished in the top two. Bars colored from green (most competitive) to red (least competitive).</p>
      </div>
    </div>
  </section>

  <div class="prose-wrap"><hr class="hr" /></div>

  <!-- ══ SECTION 03 ══ -->
  <section class="section">
    <div class="prose-wrap">
      <span class="section-number">03 &mdash; The Jamaat Question</span>
      <h2 class="section-heading">One in Three Close Races Goes to Jamaat</h2>
      <div class="prose">
        <p>Whatever one thinks of Jamaat politically, the data demands a plain reading: this is not a fringe party. This is a structural force.</p>
        <p>In seats decided by a margin of less than 5% of total votes &mdash; the true knife-edge races &mdash; Jamaat won 16 out of 39 contests where they were in the top two. That is a 41% conversion rate. For context: in those same ultra-close seats, BNP&rsquo;s conversion rate was 54.9%. The gap is smaller than the seat totals suggest.</p>
        <p>More striking still: look at what happens to each party&rsquo;s win share as races get less competitive. In the 30%+ blowout bin, BNP wins 87.7% of seats. But in the tightest bin, that falls to 53.8% &mdash; and Jamaat claims 30.8%. When turnout is highest, Jamaat&rsquo;s voters are most present. In the quintile of constituencies with the highest voter turnout, Jamaat won 24 of 55 seats. Their base mobilises. That is a ground game signature, not a polling artifact.</p>
      </div>
    </div>

    <!-- Chart 3 -->
    <div class="chart-wrap">
      <div class="chart-block" data-animate-group>
        <div class="chart-title">Win Share by Margin of Victory</div>
        <div class="chart-subtitle">Party share of seats won in each margin bin &mdash; 289 qualifying constituencies</div>

        <div class="chart-legend">
          <div class="legend-item"><span class="legend-swatch" style="background:var(--bnp);"></span>BNP</div>
          <div class="legend-item"><span class="legend-swatch" style="background:var(--jamaat);"></span>Jamaat</div>
          <div class="legend-item"><span class="legend-swatch" style="background:var(--ncp);"></span>NCP</div>
          <div class="legend-item"><span class="legend-swatch" style="background:var(--other);"></span>Other</div>
        </div>

        <div class="sbar-chart">

          <!-- Row helper: label | [BNP][Jamaat][NCP][Other] -->

          <div class="sbar-row">
            <span class="sbar-label">0%–5%</span>
            <div class="sbar-track">
              <div class="sbar-seg" style="background:var(--bnp); --target-w:53.8%;" data-animate data-party="BNP" data-pct="53.8%"><span class="sbar-seg-label">53.8%</span></div>
              <div class="sbar-seg" style="background:var(--jamaat); --target-w:30.8%;" data-animate data-party="Jamaat" data-pct="30.8%"><span class="sbar-seg-label">30.8%</span></div>
              <div class="sbar-seg" style="background:var(--ncp); --target-w:5.8%;" data-animate data-party="NCP" data-pct="5.8%"><span class="sbar-seg-label">5.8%</span></div>
              <div class="sbar-seg" style="background:var(--other); --target-w:9.6%;" data-animate data-party="Other" data-pct="9.6%"><span class="sbar-seg-label">9.6%</span></div>
            </div>
          </div>

          <div class="sbar-row">
            <span class="sbar-label">5%–10%</span>
            <div class="sbar-track">
              <div class="sbar-seg" style="background:var(--bnp); --target-w:58.3%;" data-animate data-party="BNP" data-pct="58.3%"><span class="sbar-seg-label">58.3%</span></div>
              <div class="sbar-seg" style="background:var(--jamaat); --target-w:38.9%;" data-animate data-party="Jamaat" data-pct="38.9%"><span class="sbar-seg-label">38.9%</span></div>
              <div class="sbar-seg" style="background:var(--ncp); --target-w:0%;" data-animate data-party="NCP" data-pct="0%"></div>
              <div class="sbar-seg" style="background:var(--other); --target-w:2.8%;" data-animate data-party="Other" data-pct="2.8%"></div>
            </div>
          </div>

          <div class="sbar-row">
            <span class="sbar-label">10%–15%</span>
            <div class="sbar-track">
              <div class="sbar-seg" style="background:var(--bnp); --target-w:58.1%;" data-animate data-party="BNP" data-pct="58.1%"><span class="sbar-seg-label">58.1%</span></div>
              <div class="sbar-seg" style="background:var(--jamaat); --target-w:34.9%;" data-animate data-party="Jamaat" data-pct="34.9%"><span class="sbar-seg-label">34.9%</span></div>
              <div class="sbar-seg" style="background:var(--ncp); --target-w:2.3%;" data-animate data-party="NCP" data-pct="2.3%"></div>
              <div class="sbar-seg" style="background:var(--other); --target-w:4.7%;" data-animate data-party="Other" data-pct="4.7%"></div>
            </div>
          </div>

          <div class="sbar-row">
            <span class="sbar-label">15%–20%</span>
            <div class="sbar-track">
              <div class="sbar-seg" style="background:var(--bnp); --target-w:70.6%;" data-animate data-party="BNP" data-pct="70.6%"><span class="sbar-seg-label">70.6%</span></div>
              <div class="sbar-seg" style="background:var(--jamaat); --target-w:23.5%;" data-animate data-party="Jamaat" data-pct="23.5%"><span class="sbar-seg-label">23.5%</span></div>
              <div class="sbar-seg" style="background:var(--ncp); --target-w:2.9%;" data-animate data-party="NCP" data-pct="2.9%"></div>
              <div class="sbar-seg" style="background:var(--other); --target-w:2.9%;" data-animate data-party="Other" data-pct="2.9%"></div>
            </div>
          </div>

          <div class="sbar-row">
            <span class="sbar-label">20%–25%</span>
            <div class="sbar-track">
              <div class="sbar-seg" style="background:var(--bnp); --target-w:90.9%;" data-animate data-party="BNP" data-pct="90.9%"><span class="sbar-seg-label">90.9%</span></div>
              <div class="sbar-seg" style="background:var(--jamaat); --target-w:9.1%;" data-animate data-party="Jamaat" data-pct="9.1%"></div>
              <div class="sbar-seg" style="background:var(--ncp); --target-w:0%;" data-animate data-party="NCP" data-pct="0%"></div>
              <div class="sbar-seg" style="background:var(--other); --target-w:0%;" data-animate data-party="Other" data-pct="0%"></div>
            </div>
          </div>

          <div class="sbar-row">
            <span class="sbar-label">25%–30%</span>
            <div class="sbar-track">
              <div class="sbar-seg" style="background:var(--bnp); --target-w:85.2%;" data-animate data-party="BNP" data-pct="85.2%"><span class="sbar-seg-label">85.2%</span></div>
              <div class="sbar-seg" style="background:var(--jamaat); --target-w:14.8%;" data-animate data-party="Jamaat" data-pct="14.8%"></div>
              <div class="sbar-seg" style="background:var(--ncp); --target-w:0%;" data-animate data-party="NCP" data-pct="0%"></div>
              <div class="sbar-seg" style="background:var(--other); --target-w:0%;" data-animate data-party="Other" data-pct="0%"></div>
            </div>
          </div>

          <div class="sbar-row">
            <span class="sbar-label">30%+</span>
            <div class="sbar-track">
              <div class="sbar-seg" style="background:var(--bnp); --target-w:87.7%;" data-animate data-party="BNP" data-pct="87.7%"><span class="sbar-seg-label">87.7%</span></div>
              <div class="sbar-seg" style="background:var(--jamaat); --target-w:9.4%;" data-animate data-party="Jamaat" data-pct="9.4%"></div>
              <div class="sbar-seg" style="background:var(--ncp); --target-w:1.6%;" data-animate data-party="NCP" data-pct="1.6%"></div>
              <div class="sbar-seg" style="background:var(--other); --target-w:1.3%;" data-animate data-party="Other" data-pct="1.3%"></div>
            </div>
          </div>

        </div>
        <p class="viz-source">Source: The Daily Star, 14 February 2026, 7:00 AM &mdash; Each row sums to 100%. Segments narrower than ~5% suppress labels for legibility.</p>
      </div>
    </div>
  </section>

  <div class="prose-wrap"><hr class="hr" /></div>

  <!-- ══ SECTION 04 — SWING SEATS ══ -->
  <section class="section">
    <div class="prose-wrap">
      <span class="section-number">04 &mdash; The Seats That Could Change Everything</span>
      <h2 class="section-heading">52 Seats on a Knife-Edge</h2>
      <div class="prose">
        <p>Of the 289 constituencies where BNP, Jamaat, or NCP finished in the top two, <strong>52 were decided by less than 5%</strong> of total votes cast. In raw terms, a few thousand votes — sometimes fewer than a thousand — separated winners from losers. These are the seats that will define the next election before a single vote is cast.</p>
        <p>The most startling: <strong>Sirajganj-4</strong>, where Jamaat beat BNP by just 594 votes out of 323,000 cast — a margin of 0.18%. Three of the top five closest races were Jamaat wins over BNP, hinting at where the opposition's structural vulnerability actually lies.</p>
        <p>At the other end, BNP's fortress seats are genuinely impregnable. <strong>Bandarban, Rangamati, Chattogram-12</strong> — these were won by margins exceeding 60%, in some cases with the runner-up polling less than a fifth of the winner's total. Any honest reading of the seat map has to hold both realities simultaneously.</p>
      </div>
    </div>

    <!-- Swing seats dual table chart -->
    <div class="chart-wrap mt-2">
      <div class="viz-card" data-animate-group>

        <div style="display:grid; grid-template-columns:1fr 1fr; gap:2rem; align-items:start;" class="swing-grid">

          <!-- TOP 10 CLOSEST -->
          <div>
            <div class="chart-title" style="font-size:0.95rem;">Most Competitive</div>
            <p class="chart-sub" style="margin-bottom:1rem;">Top 10 closest — decided by &lt;2% margin</p>
            <div class="swing-table">
              <div class="swing-hdr">
                <span>Constituency</span>
                <span style="text-align:right;">Margin</span>
              </div>
              <div class="swing-row" data-animate data-winner="bnp" data-pct="0.18" data-label="Sirajganj-4" data-winner-party="Jamaat" data-district="Rajshahi">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--jamaat);"></div>
                </div>
                <span class="swing-seat">Sirajganj-4</span>
                <span class="swing-party jamaat-tag">Jamaat</span>
                <span class="swing-margin">0.18%</span>
              </div>
              <div class="swing-row" data-animate data-pct="0.30" data-label="Madaripur-1" data-winner-party="Other" data-district="Dhaka">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--other);"></div>
                </div>
                <span class="swing-seat">Madaripur-1</span>
                <span class="swing-party other-tag">Other</span>
                <span class="swing-margin">0.30%</span>
              </div>
              <div class="swing-row" data-animate data-pct="0.55" data-label="Rajshahi-1" data-winner-party="Jamaat" data-district="Rajshahi">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--jamaat);"></div>
                </div>
                <span class="swing-seat">Rajshahi-1</span>
                <span class="swing-party jamaat-tag">Jamaat</span>
                <span class="swing-margin">0.55%</span>
              </div>
              <div class="swing-row" data-animate data-pct="0.62" data-label="Brahmanbaria-5" data-winner-party="BNP" data-district="Chattogram">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Brahmanbaria-5</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">0.62%</span>
              </div>
              <div class="swing-row" data-animate data-pct="0.63" data-label="Cox's Bazar-4" data-winner-party="BNP" data-district="Chattogram">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Cox's Bazar-4</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">0.63%</span>
              </div>
              <div class="swing-row" data-animate data-pct="0.68" data-label="Chattogram-14" data-winner-party="BNP" data-district="Chattogram">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Chattogram-14</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">0.68%</span>
              </div>
              <div class="swing-row" data-animate data-pct="0.84" data-label="Rangpur-6" data-winner-party="Jamaat" data-district="Rangpur">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--jamaat);"></div>
                </div>
                <span class="swing-seat">Rangpur-6</span>
                <span class="swing-party jamaat-tag">Jamaat</span>
                <span class="swing-margin">0.84%</span>
              </div>
              <div class="swing-row" data-animate data-pct="0.88" data-label="Khulna-5" data-winner-party="BNP" data-district="Khulna">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Khulna-5</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">0.88%</span>
              </div>
              <div class="swing-row" data-animate data-pct="1.07" data-label="Gaibandha-4" data-winner-party="BNP" data-district="Rangpur">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Gaibandha-4</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">1.07%</span>
              </div>
              <div class="swing-row" data-animate data-pct="1.10" data-label="Dhaka-11" data-winner-party="NCP" data-district="Dhaka">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--ncp);"></div>
                </div>
                <span class="swing-seat">Dhaka-11</span>
                <span class="swing-party ncp-tag">NCP</span>
                <span class="swing-margin">1.10%</span>
              </div>
            </div>
          </div>

          <!-- TOP 10 SAFEST -->
          <div>
            <div class="chart-title" style="font-size:0.95rem;">Least Competitive</div>
            <p class="chart-sub" style="margin-bottom:1rem;">Top 10 safest — decided by &gt;55% margin</p>
            <div class="swing-table">
              <div class="swing-hdr">
                <span>Constituency</span>
                <span style="text-align:right;">Margin</span>
              </div>
              <div class="swing-row" data-animate data-pct="65.97" data-label="Bandarban-1" data-winner-party="BNP" data-district="Chattogram">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Bandarban-1</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">65.97%</span>
              </div>
              <div class="swing-row" data-animate data-pct="64.64" data-label="Chattogram-12" data-winner-party="BNP" data-district="Chattogram">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Chattogram-12</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">64.64%</span>
              </div>
              <div class="swing-row" data-animate data-pct="64.60" data-label="Rangamati-1" data-winner-party="BNP" data-district="Chattogram">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Rangamati-1</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">64.60%</span>
              </div>
              <div class="swing-row" data-animate data-pct="61.86" data-label="Kishoreganj-6" data-winner-party="BNP" data-district="Dhaka">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Kishoreganj-6</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">61.86%</span>
              </div>
              <div class="swing-row" data-animate data-pct="61.05" data-label="Chattogram-6" data-winner-party="BNP" data-district="Chattogram">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Chattogram-6</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">61.05%</span>
              </div>
              <div class="swing-row" data-animate data-pct="60.29" data-label="Netrakona-4" data-winner-party="BNP" data-district="Mymensingh">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Netrakona-4</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">60.29%</span>
              </div>
              <div class="swing-row" data-animate data-pct="57.91" data-label="Cumilla-8" data-winner-party="BNP" data-district="Chattogram">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Cumilla-8</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">57.91%</span>
              </div>
              <div class="swing-row" data-animate data-pct="57.48" data-label="Gaibandha-1" data-winner-party="Jamaat" data-district="Rangpur">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--jamaat);"></div>
                </div>
                <span class="swing-seat">Gaibandha-1</span>
                <span class="swing-party jamaat-tag">Jamaat</span>
                <span class="swing-margin">57.48%</span>
              </div>
              <div class="swing-row" data-animate data-pct="55.80" data-label="Rajbari-2" data-winner-party="BNP" data-district="Dhaka">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Rajbari-2</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">55.80%</span>
              </div>
              <div class="swing-row" data-animate data-pct="55.04" data-label="Moulvibazar-4" data-winner-party="BNP" data-district="Sylhet">
                <div class="swing-bar-wrap">
                  <div class="swing-bar-fill" style="--party-color:var(--bnp);"></div>
                </div>
                <span class="swing-seat">Moulvibazar-4</span>
                <span class="swing-party bnp-tag">BNP</span>
                <span class="swing-margin">55.04%</span>
              </div>
            </div>
          </div>

        </div><!-- /swing-grid -->

        <p class="viz-source">Source: The Daily Star, 14 February 2026, 7:00 AM &mdash; Left: closest 10 seats from 289 qualifying constituencies. Right: 10 most lopsided wins. Bar length proportional to margin within each panel.</p>
      </div>
    </div>
  </section>

  <div class="prose-wrap"><hr class="hr" /></div>

  <!-- ══ SECTION 05 ══ -->
  <section class="section">
    <div class="prose-wrap">
      <span class="section-number">05 &mdash; The Geography of Competition</span>
      <h2 class="section-heading">Two Bangladeshes</h2>

      <div class="prose">
        <p>The national picture obscures a sharp geographic divide.</p>
        <p>Khulna Division is, by any honest reading, Jamaat territory: they won 25 of 36 seats, a 69.4% win rate, with an average margin of just 14.9%. Rangpur was nearly split &mdash; Jamaat 16, BNP 14, out of 33 seats, with the highest concentration of swing seats in the country. In Rajshahi, BNP won 28 of 38 but Jamaat claimed 10.</p>
        <p>Then there is the other Bangladesh. Sylhet returned BNP in 18 of 19 seats. Barishal was a near-clean sweep. Dhaka gave BNP 57 of 70 &mdash; a figure that will dominate the headline seat count &mdash; but even there, 20 seats were decided by less than 10%.</p>
      </div>
    </div>

    <!-- Chart 4 -->
    <div class="chart-wrap">
      <div class="chart-block" data-animate-group>
        <div class="chart-title">Division-Level Party Performance</div>
        <div class="chart-subtitle">BNP and Jamaat seat share across all 8 divisions &mdash; sorted by Jamaat share descending</div>

        <div class="chart-legend">
          <div class="legend-item"><span class="legend-swatch" style="background:var(--bnp);"></span>BNP</div>
          <div class="legend-item"><span class="legend-swatch" style="background:var(--jamaat);"></span>Jamaat</div>
        </div>

        <div class="dbar-chart">

          <!-- Khulna -->
          <div class="dbar-row">
            <div class="dbar-division">Khulna</div>
            <div class="dbar-group">
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--bnp);">BNP</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--bnp); --target-w:30.6%;" data-animate></div></div>
                <span class="dbar-meta">11 / 36 &nbsp; (30.6%)</span>
              </div>
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--jamaat);">Jamaat</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--jamaat); --target-w:69.4%;" data-animate></div></div>
                <span class="dbar-meta">25 / 36 &nbsp; (69.4%)</span>
              </div>
            </div>
          </div>

          <!-- Rangpur -->
          <div class="dbar-row">
            <div class="dbar-division">Rangpur</div>
            <div class="dbar-group">
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--bnp);">BNP</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--bnp); --target-w:42.4%;" data-animate></div></div>
                <span class="dbar-meta">14 / 33 &nbsp; (42.4%)</span>
              </div>
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--jamaat);">Jamaat</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--jamaat); --target-w:48.5%;" data-animate></div></div>
                <span class="dbar-meta">16 / 33 &nbsp; (48.5%)</span>
              </div>
            </div>
          </div>

          <!-- Rajshahi -->
          <div class="dbar-row">
            <div class="dbar-division">Rajshahi</div>
            <div class="dbar-group">
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--bnp);">BNP</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--bnp); --target-w:73.7%;" data-animate></div></div>
                <span class="dbar-meta">28 / 38 &nbsp; (73.7%)</span>
              </div>
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--jamaat);">Jamaat</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--jamaat); --target-w:26.3%;" data-animate></div></div>
                <span class="dbar-meta">10 / 38 &nbsp; (26.3%)</span>
              </div>
            </div>
          </div>

          <!-- Mymensingh -->
          <div class="dbar-row">
            <div class="dbar-division">Mymensingh</div>
            <div class="dbar-group">
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--bnp);">BNP</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--bnp); --target-w:75.0%;" data-animate></div></div>
                <span class="dbar-meta">18 / 24 &nbsp; (75.0%)</span>
              </div>
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--jamaat);">Jamaat</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--jamaat); --target-w:12.5%;" data-animate></div></div>
                <span class="dbar-meta">3 / 24 &nbsp; (12.5%)</span>
              </div>
            </div>
          </div>

          <!-- Barisal -->
          <div class="dbar-row">
            <div class="dbar-division">Barisal</div>
            <div class="dbar-group">
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--bnp);">BNP</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--bnp); --target-w:76.2%;" data-animate></div></div>
                <span class="dbar-meta">16 / 21 &nbsp; (76.2%)</span>
              </div>
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--jamaat);">Jamaat</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--jamaat); --target-w:9.5%;" data-animate></div></div>
                <span class="dbar-meta">2 / 21 &nbsp; (9.5%)</span>
              </div>
            </div>
          </div>

          <!-- Dhaka -->
          <div class="dbar-row">
            <div class="dbar-division">Dhaka</div>
            <div class="dbar-group">
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--bnp);">BNP</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--bnp); --target-w:81.4%;" data-animate></div></div>
                <span class="dbar-meta">57 / 70 &nbsp; (81.4%)</span>
              </div>
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--jamaat);">Jamaat</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--jamaat); --target-w:11.4%;" data-animate></div></div>
                <span class="dbar-meta">8 / 70 &nbsp; (11.4%)</span>
              </div>
            </div>
          </div>

          <!-- Chattogram -->
          <div class="dbar-row">
            <div class="dbar-division">Chattogram</div>
            <div class="dbar-group">
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--bnp);">BNP</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--bnp); --target-w:83.1%;" data-animate></div></div>
                <span class="dbar-meta">49 / 59 &nbsp; (83.1%)</span>
              </div>
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--jamaat);">Jamaat</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--jamaat); --target-w:5.1%;" data-animate></div></div>
                <span class="dbar-meta">3 / 59 &nbsp; (5.1%)</span>
              </div>
            </div>
          </div>

          <!-- Sylhet -->
          <div class="dbar-row">
            <div class="dbar-division">Sylhet</div>
            <div class="dbar-group">
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--bnp);">BNP</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--bnp); --target-w:94.7%;" data-animate></div></div>
                <span class="dbar-meta">18 / 19 &nbsp; (94.7%)</span>
              </div>
              <div class="dbar-line">
                <span class="dbar-party-label" style="color:var(--jamaat);">Jamaat</span>
                <div class="dbar-track"><div class="dbar-fill" style="background:var(--jamaat); --target-w:0%;" data-animate></div></div>
                <span class="dbar-meta">0 / 19 &nbsp; (0.0%)</span>
              </div>
            </div>
          </div>

        </div>
        <p class="viz-source">Source: The Daily Star, 14 February 2026, 7:00 AM &mdash; Bar widths are % of seats within each division. Divisions sorted by Jamaat share, highest to lowest.</p>
      </div>
    </div>
  </section>

  <div class="prose-wrap"><hr class="hr" /></div>

  <!-- ══ SECTION 05 ══ -->
  <section class="section">
    <div class="prose-wrap">
      <span class="section-number">05 &mdash; Closing</span>
      <h2 class="section-heading">With Great Power Comes Great Responsibility</h2>
      <div class="prose">
        <p>BNP holds the mandate today. That is unambiguous. But three things the numbers make clear: the electorate is engaged, watching, and willing to vote differently.</p>
        <p>Nearly half of all contested seats were decided by margins that a modest shift in turnout, a local issue, or a credible alternative candidate could reverse. Jamaat has demonstrated they can compete at the constituency level across the country &mdash; not just in their traditional strongholds. And NCP, in its first election, has won seats and shown presence in some of the most competitive urban constituencies.</p>
        <p>The mandate is real. So is the warning embedded in it. Bangladesh deserves governance that treats this closeness with humility, and meets it with performance.</p>
      </div>
    </div>
  </section>

  <!-- ══ FOOTER ══ -->
  <footer class="footer">
    <p class="footer-line">Data source: The Daily Star &nbsp;|&nbsp; Snapshot: 14 February 2026, 7:00 AM</p>
    <p class="footer-line">Analysis by Ishmam Chowdhury</p>
    <p class="footer-disclaimer">All figures based on unofficial results at time of data collection. Final certified results may differ.</p>
  </footer>


  <!-- ══ JAVASCRIPT ══ -->
  <script>
    (function () {
      'use strict';

      /* ── Utility: collect all animatable elements ── */
      function getAnimatableGroups() {
        return document.querySelectorAll('[data-animate-group]');
      }

      /* ── Trigger animation on a group ── */
      function animateGroup(group) {
        if (group.dataset.animated) return;
        group.dataset.animated = 'true';

        const fills = group.querySelectorAll('[data-animate]');
        // Stagger slightly for visual polish
        fills.forEach(function (el, i) {
          setTimeout(function () {
            el.classList.add('animated');
          }, i * 40);
        });
      }

      /* ── IntersectionObserver ── */
      var observer = new IntersectionObserver(function (entries) {
        entries.forEach(function (entry) {
          if (entry.isIntersecting) {
            animateGroup(entry.target);
            observer.unobserve(entry.target);
          }
        });
      }, {
        threshold: 0.15
      });

      getAnimatableGroups().forEach(function (group) {
        observer.observe(group);
      });

      /* ── Fallback: animate any group that is already in viewport on load ── */
      window.addEventListener('load', function () {
        getAnimatableGroups().forEach(function (group) {
          var rect = group.getBoundingClientRect();
          if (rect.top < window.innerHeight && rect.bottom > 0) {
            animateGroup(group);
          }
        });
      });

    }());

    /* ── Swing row background-bar animation ── */
    (function () {
      // For each viz-card containing swing rows, find max pct per column panel
      // and set --fill-w as % of that max for a scaled bar effect.
      // The two panels (closest / safest) are siblings inside .swing-grid divs.
      document.querySelectorAll('.swing-grid').forEach(function (grid) {
        grid.querySelectorAll('div > .swing-table').forEach(function (table) {
          var rows = table.querySelectorAll('.swing-row[data-pct]');
          var max = 0;
          rows.forEach(function (r) { max = Math.max(max, parseFloat(r.dataset.pct)); });
          rows.forEach(function (r) {
            var pct = parseFloat(r.dataset.pct);
            r.style.setProperty('--fill-w', (pct / max * 100).toFixed(1) + '%');
          });
        });
      });
    }());

    /* ── Stacked bar tooltips ── */
    (function () {
      var tip = document.createElement('div');
      tip.id = 'sbar-tooltip';
      document.body.appendChild(tip);

      var PARTY_COLOR = {
        'BNP':    '#1a7a3c',
        'Jamaat': '#d4620a',
        'NCP':    '#2e6ea6',
        'Other':  '#888888',
      };

      function showTip(e) {
        var seg = e.currentTarget;
        var party = seg.dataset.party;
        var pct   = seg.dataset.pct;
        if (!party || pct === '0%') return;

        var bin = seg.closest('.sbar-row').querySelector('.sbar-label').textContent;
        var dot = '<span style="display:inline-block;width:8px;height:8px;border-radius:50%;background:' +
                  (PARTY_COLOR[party] || '#888') + ';margin-right:5px;vertical-align:middle;"></span>';
        tip.innerHTML = dot + '<strong>' + party + '</strong> &nbsp;' + pct +
                        '<br><span style="opacity:0.65;font-size:0.65rem;">Margin bin: ' + bin + '</span>';
        tip.classList.add('visible');
        moveTip(e);
      }

      function moveTip(e) {
        var x = e.clientX;
        var y = e.clientY;
        var w = tip.offsetWidth;
        // keep tooltip on-screen horizontally
        var left = Math.min(x - w / 2, window.innerWidth - w - 8);
        left = Math.max(left, 8);
        tip.style.left = left + 'px';
        tip.style.top  = (y - tip.offsetHeight - 10) + 'px';
      }

      function hideTip() {
        tip.classList.remove('visible');
      }

      document.querySelectorAll('.sbar-seg[data-party]').forEach(function (seg) {
        seg.addEventListener('mouseenter', showTip);
        seg.addEventListener('mousemove',  moveTip);
        seg.addEventListener('mouseleave', hideTip);
      });
    }());
  </script>

</body>
</html>
